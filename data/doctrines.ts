import { DoctrineDefinition } from '../types';

export const DOCTRINE_LIBRARY: DoctrineDefinition[] = [
  // --- Economic & Industrial ---
  {
    id: 'econ_total_mobilization',
    name: 'Total Mobilization',
    theme: 'ECONOMIC',
    tier: 'LOW',
    buffs: [{ type: 'FLAT_MAT_INCOME', value: 2, nodeType: 'ALL' }],
    nerfs: [{ type: 'UNIT_UPKEEP_MODIFIER', value: 0.10, modifierType: 'PERCENTAGE_INCREASE', unitType: 'STANDARD' }],
  },
  {
    id: 'econ_quantum_speculation',
    name: 'Quantum Speculation',
    theme: 'ECONOMIC',
    tier: 'LOW',
    buffs: [{ type: 'FLAT_QR_INCOME', value: 1, nodeType: 'ALL' }],
    nerfs: [{ type: 'PERCENTAGE_MAT_INCOME_MODIFIER', value: 0.10, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'econ_black_market',
    name: 'Black Market Dealings',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'GAIN_MAT', value: 200 }],
    nerfs: [{ type: 'DISABLE_ACTION', actionType: 'BUILD_FORTIFICATIONS', duration: 5 }],
  },
  {
    id: 'econ_austerity',
    name: 'Austerity Measures',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'UNIT_UPKEEP_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_DECREASE', unitType: 'STANDARD' }],
    nerfs: [
      { type: 'PERCENTAGE_MAT_INCOME_MODIFIER', value: 0.15, modifierType: 'PERCENTAGE_DECREASE' },
      { type: 'PERCENTAGE_QR_INCOME_MODIFIER', value: 0.15, modifierType: 'PERCENTAGE_DECREASE' }
    ],
  },
  {
    id: 'econ_scorched_earth',
    name: 'Scorched Earth Logistics',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'GAIN_MAT_ON_CAPTURE', value: 1, modifierType: 'MULTIPLIER', resourceType: 'MAT' }],
    nerfs: [{ type: 'PERMANENT_NODE_MAT_REDUCTION_ON_CAPTURE', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'econ_conscripts',
    name: 'Conscript Armies',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'UNIT_DEPLOY_COST_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE', unitType: 'STANDARD' }],
    nerfs: [{ type: 'COMBAT_ROLL_MODIFIER', value: -1, unitType: 'STANDARD' }],
  },
  {
    id: 'econ_hoarding',
    name: 'Resource Hoarding',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'MAX_MAT_STOCKPILE_MODIFIER', value: 2, modifierType: 'MULTIPLIER', nodeType: 'ALL' }],
    nerfs: [{ type: 'AUTO_REINFORCEMENT_RATE_MODIFIER', value: 0.5, modifierType: 'MULTIPLIER' }]
  },
  {
    id: 'econ_automated_foundries',
    name: 'Automated Foundries',
    theme: 'ECONOMIC',
    tier: 'HIGH',
    buffs: [{ type: 'FREE_UNIT_PER_TURN', value: 1, nodeType: 'CN', unitType: 'STANDARD' }],
    nerfs: [{ type: 'MAT_INCOME_MODIFIER_FROM_NODE_TYPE', value: 0.25, modifierType: 'PERCENTAGE_DECREASE', nodeType: 'INDUSTRIAL_HUB' }],
  },
  {
    id: 'econ_war_bonds',
    name: 'War Bonds',
    theme: 'ECONOMIC',
    tier: 'HIGH',
    buffs: [{ type: 'RESOURCE_CONVERSION', conversionRatio: { from: 'QR', to: 'MAT', ratio: 5 } }],
    nerfs: [{ type: 'DISABLE_RESOURCE_TYPE', resourceType: 'QR' }]
  },
  {
    id: 'econ_salvage',
    name: 'Triage & Salvage',
    theme: 'ECONOMIC',
    tier: 'LOW',
    buffs: [{ type: 'BATTLE_REWARD_MAT', value: 1, modifierType: 'FLAT', condition: 'ATTACKING' }],
    nerfs: [{ type: 'UNIT_DEPLOY_COST_MODIFIER', value: 0.10, modifierType: 'PERCENTAGE_INCREASE', unitType: 'STANDARD' }],
  },
  {
    id: 'econ_stimulus',
    name: 'Economic Stimulus',
    theme: 'ECONOMIC',
    tier: 'MEDIUM',
    buffs: [{ type: 'TEMPORARY_ACTION_COST_REDUCTION', actionType: 'BUILD_FORTIFICATIONS', value: 0.50, duration: 3 }],
    nerfs: [{ type: 'TEMPORARY_ACTION_COST_INCREASE', actionType: 'PERFORM_RECON_PULSE', value: 0.50, duration: 5, resourceType: 'QR' }],
  },
  {
    id: 'econ_patronage',
    name: 'Corporate Patronage',
    theme: 'ECONOMIC',
    tier: 'HIGH',
    buffs: [{ type: 'FLAT_MAT_INCOME', value: 100 }],
    nerfs: [{ type: 'MAX_CONTROLLED_NODE_TYPE_LIMIT', nodeType: 'INDUSTRIAL_HUB', maxLimit: 3 }],
  },
  // --- Conventional Warfare ---
  {
    id: 'war_shock_awe',
    name: 'Shock & Awe',
    theme: 'MILITARY_OFFENSE',
    tier: 'MEDIUM',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER', value: 1, unitType: 'STANDARD', condition: 'ATTACKING' }],
    nerfs: [{ type: 'COMBAT_ROLL_MODIFIER', value: -1, unitType: 'STANDARD', condition: 'DEFENDING' }],
  },
  {
    id: 'war_unyielding_defense',
    name: 'Unyielding Defense',
    theme: 'MILITARY_DEFENSE',
    tier: 'MEDIUM',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER', value: 1, unitType: 'STANDARD', condition: 'DEFENDING' }],
    nerfs: [{ type: 'MOVE_UNITS_COST_PER_UNIT_MODIFIER', value: 0.1, resourceType: 'MAT' }],
  },
  {
    id: 'war_siege_engineering',
    name: 'Siege Engineering',
    theme: 'MILITARY_DEFENSE',
    tier: 'MEDIUM',
    buffs: [
      { type: 'FORTIFICATION_COST_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_DECREASE' },
      { type: 'FORTIFICATION_COMBAT_BONUS_MODIFIER', value: 1, modifierType: 'FLAT' }
    ],
    nerfs: [{ type: 'UNIT_DEPLOY_LIMIT', value: 20, unitType: 'STANDARD' }],
  },
  {
    id: 'war_grand_battery',
    name: 'Grand Battery Doctrine',
    theme: 'MILITARY_OFFENSE',
    tier: 'MEDIUM',
    buffs: [
      { type: 'ARTILLERY_COST_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' },
      { type: 'ARTILLERY_SUPPORT_RANGE_MODIFIER', value: 1, modifierType: 'FLAT' }
    ],
    nerfs: [{ type: 'CN_MAX_UNIT_CAPACITY_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'war_combined_arms',
    name: 'Combined Arms Tactics',
    theme: 'MILITARY_OFFENSE',
    tier: 'HIGH',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER_CONDITIONAL', value: 1, condition: 'NODE_HAS_ARTILLERY_AND_UNITS' }],
    nerfs: [{ type: 'UNIT_UPKEEP_PERCENTAGE_INCREASE', value: 0.15, unitType: 'ALL' }],
  },
  {
    id: 'war_apex_predator',
    name: 'Apex Predator Protocols',
    theme: 'MILITARY_OFFENSE',
    tier: 'HIGH',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER', value: 1, unitType: 'STANDARD' }],
    nerfs: [{ type: 'PERCENTAGE_QR_INCOME_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'war_defensive_sortie',
    name: 'Defensive Sortie',
    theme: 'MILITARY_DEFENSE',
    tier: 'LOW',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER_CONDITIONAL', value: 2, condition: 'SUCCESSFUL_DEFENSE_NEXT_ATTACK' }],
    nerfs: [{ type: 'MAT_INCOME_MODIFIER_FROM_NODE_TYPE', value: 0.25, modifierType: 'PERCENTAGE_DECREASE', nodeType: 'FORTRESS' }],
  },
  {
    id: 'war_rapid_fortification',
    name: 'Rapid Fortification',
    theme: 'MILITARY_DEFENSE',
    tier: 'LOW',
    buffs: [{ type: 'BUILD_FORTIFICATIONS_INSTANT' }],
    nerfs: [{ type: 'FORTIFICATION_COST_MODIFIER', value: 0.20, modifierType: 'PERCENTAGE_INCREASE' }],
  },
  {
    id: 'war_no_mans_land',
    name: 'No-Man's-Land',
    theme: 'TERRITORIAL_CONTROL',
    tier: 'MEDIUM',
    buffs: [{ type: 'ENEMY_UNIT_ATTRITION_ON_MOVE', value: 1, condition: 'ADJACENT_TO_OWN_TERRITORY' }],
    nerfs: [{ type: 'DISABLE_NEUTRAL_NODE_CAPTURE_ADJACENT_ENEMY' }],
  },
  {
    id: 'war_overwhelming_firepower',
    name: 'Overwhelming Firepower',
    theme: 'MILITARY_OFFENSE',
    tier: 'HIGH',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER_CONDITIONAL', value: 1, condition: 'UNITS_IN_BATTLE' }],
    nerfs: [{ type: 'MAX_UNIT_CAPACITY_MODIFIER', value: -10, nodeType: 'ALL' }],
  },
  {
    id: 'war_bloodied_unbroken',
    name: 'Bloodied But Unbroken',
    theme: 'MILITARY_DEFENSE',
    tier: 'MEDIUM',
    buffs: [{ type: 'COMBAT_ROLL_MODIFIER_CONDITIONAL', value: 1, condition: 'LOW_FORT_HP' }],
    nerfs: [{ type: 'FORTIFICATION_COST_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE', actionType: 'FORT_REPAIR' }],
  },
  {
    id: 'war_forward_command',
    name: 'Forward Command',
    theme: 'STRATEGIC_FLEXIBILITY',
    tier: 'HIGH',
    buffs: [{ type: 'FORTRESS_DEPLOY_UNITS' }],
    nerfs: [{ type: 'CN_REINFORCEMENT_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'war_peoples_militia',
    name: 'The People\'s Militia',
    theme: 'MILITARY_DEFENSE',
    tier: 'LOW',
    buffs: [{ type: 'ENEMY_UNIT_LOSS_ON_NODE_CAPTURE', value: 2, modifierType: 'FLAT' }],
    nerfs: [{ type: 'SUPPRESSION_INCREASE', value: 1, nodeType: 'ALL' }],
  },
  // --- Asymmetric & Intel ---
  {
    id: 'intel_ghost_protocol',
    name: 'Ghost Protocol',
    theme: 'SUBTERFUGE',
    tier: 'MEDIUM',
    buffs: [{ type: 'INFILTRATOR_EFFECTIVENESS_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE', actionType: 'SABOTAGE_MATERIEL' }],
    nerfs: [{ type: 'INFILTRATOR_DETECTION_MODIFIER', value: 1, modifierType: 'ALWAYS_KILLED_ON_DETECTION' }],
  },
  {
    id: 'intel_crystal_ball',
    name: 'Crystal Ball Doctrine',
    theme: 'INTELLIGENCE_GATHERING',
    tier: 'MEDIUM',
    buffs: [{ type: 'RECON_PULSE_DURATION_MODIFIER', value: 2 }],
    nerfs: [{ type: 'RECON_ARRAY_UPKEEP_MODIFIER', value: 3, modifierType: 'MULTIPLIER' }],
  },
  {
    id: 'intel_closed_network',
    name: 'Closed Network',
    theme: 'COUNTER_INTELLIGENCE',
    tier: 'MEDIUM',
    buffs: [{ type: 'ENEMY_RECON_PULSE_FAILURE_CHANCE', value: 0.50 }],
    nerfs: [{ type: 'RECON_COST_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE', resourceType: 'QR', actionType: 'PERFORM_RECON_PULSE' }],
  },
  {
    id: 'intel_irregular_warfare',
    name: 'Irregular Warfare',
    theme: 'MILITARY_OFFENSE',
    tier: 'LOW',
    buffs: [{ type: 'COMBAT_BONUS_NEUTRAL_TERRITORY', value: 1, unitType: 'STANDARD' }],
    nerfs: [{ type: 'COMBAT_PENALTY_OWN_FORTRESS_DEFENSE', value: -1, unitType: 'STANDARD' }],
  },
  {
    id: 'intel_signal_jamming',
    name: 'Signal Jamming',
    theme: 'COUNTER_INTELLIGENCE',
    tier: 'MEDIUM',
    buffs: [{ type: 'DISABLE_ENEMY_ARTILLERY_OFFENSIVE_SUPPORT' }],
    nerfs: [{ type: 'ARTILLERY_FIRE_COST_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_INCREASE' }],
  },
  {
    id: 'intel_false_flag',
    name: 'False Flag Operations',
    theme: 'SUBTERFUGE',
    tier: 'HIGH',
    buffs: [{ type: 'ATTACK_NEUTRAL_FROM_ENEMY_NODE', cooldown: 10 }],
    nerfs: [{ type: 'INFILTRATOR_DETECTION_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE' }],
  },
  {
    id: 'intel_decoy_transmissions',
    name: 'Decoy Transmissions',
    theme: 'COUNTER_INTELLIGENCE',
    tier: 'LOW',
    buffs: [{ type: 'DECOY_RECON_PULSE', value: 1, modifierType: 'RANDOM_DOUBLE_UNITS' }],
    nerfs: [{ type: 'MOVE_UNITS_COST_MODIFIER', value: 0.5, resourceType: 'MAT' }],
  },
  {
    id: 'intel_economic_espionage',
    name: 'Economic Espionage',
    theme: 'INTELLIGENCE_GATHERING',
    tier: 'HIGH',
    buffs: [{ type: 'PERMANENT_ENEMY_RESOURCE_VISIBILITY' }],
    nerfs: [{ type: 'MAX_ACTIVE_RECON_ARRAY_LIMIT', value: 1 }],
  },
  {
    id: 'intel_rapid_infiltration',
    name: 'Rapid Infiltration',
    theme: 'SUBTERFUGE',
    tier: 'MEDIUM',
    buffs: [{ type: 'TRAIN_INFILTRATOR_INSTANT' }],
    nerfs: [{ type: 'INFILTRATOR_COST_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE', resourceType: 'QR' }],
  },
  {
    id: 'intel_hunter_killer',
    name: 'Hunter-Killer Cells',
    theme: 'SUBTERFUGE',
    tier: 'MEDIUM',
    buffs: [{ type: 'INFILTRATOR_NEW_ACTION', actionType: 'ASSASSINATE' }],
    nerfs: [{ type: 'INFILTRATOR_UPKEEP_MODIFIER', value: 2, modifierType: 'MULTIPLIER' }],
  },
  {
    id: 'intel_collateral_damage',
    name: 'Collateral Damage',
    theme: 'MILITARY_OFFENSE',
    tier: 'LOW',
    buffs: [{ type: 'ARTILLERY_STRIKE_FORT_HP_DAMAGE' }],
    nerfs: [{ type: 'ARTILLERY_STRIKE_OWN_UNIT_DAMAGE_CHANCE', value: 0.05 }],
  },
  {
    id: 'intel_forced_march',
    name: 'Forced March',
    theme: 'MANEUVER',
    tier: 'MEDIUM',
    buffs: [{ type: 'MOVE_UNITS_TWO_NODES', cooldown: 5 }],
    nerfs: [{ type: 'MOVE_UNITS_SUPPRESSION_PENALTY', value: 0.50, duration: 1 }],
  },
  {
    id: 'intel_embedded_agents',
    name: 'Embedded Agents',
    theme: 'SUBTERFUGE',
    tier: 'HIGH',
    buffs: [{ type: 'GAIN_MAT_ON_ENEMY_DEPLOYMENT', value: 0.10, modifierType: 'PERCENTAGE_OF_COST' }],
    nerfs: [{ type: 'DISABLE_NEW_INFILTRATORS' }],
  },
  // --- Logistical & Support ---
  {
    id: 'support_overcrowding',
    name: 'Strategic Overcrowding',
    theme: 'LOGISTICS',
    tier: 'MEDIUM',
    buffs: [{ type: 'MAX_UNIT_CAPACITY_NON_CN_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_INCREASE' }],
    nerfs: [{ type: 'AUTO_REINFORCEMENT_RATE_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'support_forage_advance',
    name: 'Forage & Advance',
    theme: 'LOGISTICS',
    tier: 'MEDIUM',
    buffs: [{ type: 'IMMUNE_TO_LOW_SUPPLY_PENALTY' }],
    nerfs: [{ type: 'MAX_MAT_STOCKPILE_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'support_frontier_eng',
    name: 'Frontier Engineering',
    theme: 'TERRITORIAL_CONTROL',
    tier: 'LOW',
    buffs: [{ type: 'BUILD_FORTIFICATIONS_ADJACENT_NEUTRAL' }],
    nerfs: [{ type: 'FORTIFICATION_COST_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_INCREASE' }],
  },
  {
    id: 'support_dist_reserves',
    name: 'Distributed Reserves',
    theme: 'LOGISTICS',
    tier: 'MEDIUM',
    buffs: [{ type: 'OVERFLOW_REINFORCEMENTS_TO_RESERVE_POOL' }],
    nerfs: [{ type: 'AUTO_REINFORCEMENT_RATE_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'support_pro_army',
    name: 'Professional Army',
    theme: 'MILITARY_OFFENSE',
    tier: 'HIGH',
    buffs: [{ type: 'BATTLEFIELD_PROMOTION_MODIFIER', value: 0.5, modifierType: 'MULTIPLIER' }],
    nerfs: [{ type: 'DISABLE_AUTO_REINFORCEMENTS' }],
  },
  {
    id: 'support_airlift',
    name: 'Emergency Airlift',
    theme: 'STRATEGIC_FLEXIBILITY',
    tier: 'HIGH',
    buffs: [{ type: 'MOVE_UNITS_FROM_CN_TO_ANY_NODE', cooldown: 10 }],
    nerfs: [{ type: 'MOVE_UNITS_CN_COST_MODIFIER', value: 5, resourceType: 'MAT' }],
  },
  {
    id: 'support_adaptable_reserves',
    name: 'Adaptable Reserves',
    theme: 'LOGISTICS',
    tier: 'LOW',
    buffs: [{ type: 'MOVE_UNITS_LEAVE_ZERO_UNITS' }],
    nerfs: [{ type: 'MOVE_UNITS_COST_MODIFIER', value: 2, resourceType: 'MAT' }],
  },
  {
    id: 'support_central_logistics',
    name: 'Centralized Logistics',
    theme: 'LOGISTICS',
    tier: 'MEDIUM',
    buffs: [{ type: 'MAT_TO_GLOBAL_STOCKPILE' }],
    nerfs: [{ type: 'SABOTAGE_TARGETS_GLOBAL_STOCKPILE' }],
  },
  {
    id: 'support_field_hospitals',
    name: 'Field Hospitals',
    theme: 'LOGISTICS',
    tier: 'MEDIUM',
    buffs: [{ type: 'RECOVER_LOST_UNITS_AFTER_BATTLE', value: 0.10, modifierType: 'PERCENTAGE_OF_LOSSES' }],
    nerfs: [{ type: 'MAX_QR_STOCKPILE_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
  },
  {
    id: 'support_supply_network',
    name: 'Supply Network Optimization',
    theme: 'LOGISTICS',
    tier: 'HIGH',
    buffs: [{ type: 'UNIT_UPKEEP_ADJACENT_CN_MODIFIER', value: 0.50, modifierType: 'PERCENTAGE_DECREASE' }],
    nerfs: [{ type: 'UNIT_UPKEEP_OTHER_UNITS_MODIFIER', value: 0.25, modifierType: 'PERCENTAGE_INCREASE' }],
  },
  {
    id: 'support_pioneering_spirit',
    name: 'Pioneering Spirit',
    theme: 'TERRITORIAL_CONTROL',
    tier: 'LOW',
    buffs: [{ type: 'FREE_MOVE_INTO_NEUTRAL_NODE', value: 1 }],
    nerfs: [{ type: 'NEUTRAL_NODE_CAPTURE_BONUS_REDUCTION', value: 0 }],
  },
  {
    id: 'support_c2_warfare',
    name: 'Command & Control Warfare',
    theme: 'COUNTER_INTELLIGENCE',
    tier: 'HIGH',
    buffs: [{ type: 'ENEMY_COMBAT_PENALTY_ADJACENT_RECON_ARRAY', value: -1 }],
    nerfs: [{ type: 'OWN_RECON_ARRAY_ENEMY_ATTACK_BONUS', value: 2 }],
  },
